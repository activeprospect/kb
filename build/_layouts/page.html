---
layout: default
---

<article class="page">
    <header class="page-header">
        <h1 class="page-title">{{ page.title }}</h1>
        {% if page.description %}
        <p class="page-description">{{ page.description }}</p>
        {% endif %}
        
        <!-- Page metadata -->
        <div class="page-meta">
            {% if page.date %}
            <span class="meta-item">
                <i class="fas fa-calendar"></i>
                <time datetime="{{ page.date | date_to_xmlschema }}">{{ page.date | date: '%B %d, %Y' }}</time>
            </span>
            {% endif %}
            
            {% if page.author %}
            <span class="meta-item">
                <i class="fas fa-user"></i>
                {{ page.author }}
            </span>
            {% endif %}
        </div>
    </header>

    <div class="page-content">
        {{ content }}
    </div>

    <!-- Table of Contents (for long pages) -->
    {% if content contains '<h2' or content contains '<h3' %}
    <aside class="toc-sidebar">
        <nav class="toc">
            <h4>On This Page</h4>
            <div id="toc-content">
                <!-- TOC will be generated by JavaScript -->
            </div>
        </nav>
    </aside>
    {% endif %}
</article>

<!-- Related Pages -->
{% assign current_dir = page.dir %}
{% assign related_pages = site.pages | where_exp: "item", "item.dir == current_dir" | where_exp: "item", "item.url != page.url" | limit: 3 %}

{% if related_pages.size > 0 %}
<section class="related-pages">
    <h3>Related Pages</h3>
    <div class="related-grid">
        {% for related in related_pages %}
        <a href="{{ related.url | relative_url }}" class="related-card">
            <h4>{{ related.title }}</h4>
            {% if related.description %}
            <p>{{ related.description | truncate: 120 }}</p>
            {% endif %}
        </a>
        {% endfor %}
    </div>
</section>
{% endif %}

<!-- Page Navigation -->
{% include page-navigation.html %}